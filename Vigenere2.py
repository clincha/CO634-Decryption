from collections import Counter

import matplotlib.pyplot as plot

ALPHABET = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
ENCRYPTED = "PTMDWEPZZLFVSIBYSQMMCYFXABGKIAEMQDLXOLPTJQPLGYXLLNPLQBZNKTRAHPGNLXNKCAXBOXYDWFGMJJXEPKMYWFOMPLXFZVRSEQTNQSIPSWSWHELDCESYFZLQSOHPYEWEPPYOHLYMZFVKDPCXYPEILOXEPZCHEPLVCYHLQQRWMHPIJWZFWTYRIDTZJDWEPEYDABWTECSRYLCOMKEPCSSIJAACMMECPPWXYLFLHAFBGQYIWGQEYATMBELBSQQESOTMQZJXSWJLLXYLYSSITJYSEKOSLPAQSMGYJBCMLNIPEWZPHOLELELBCMDCSJMCRHLBYBFPWXXMOFIPEQMYEOZACHMQSZCREOOBMELBMIZJMQSIBLZBCGBTJCPZCYXZZTMFVEPZBLVITVEHEPLJMFXQZLGPEKOVMDEIGIRTSKTBULWKPIPWCYPLRTQBMCRDLBCCQSIAOWUYWQLQPDEKOIQVIATNQSIJTOFEWBYLDZVQSMNLVPZVRSIJZUCYXELXNPRBOBMMILYMYEAETKFSIOQIRSIODACYWBZNRSIXYBGBYBYWZTPFEGMQLFDNYXMIJEYDLFRPCDXXYLFTWPPVQTXFGMLPWPEWRSIPXCBRITSQASXBDAFLHPPBSASKEPYERLMQJTXVXWQETOZVMFRZPLDZVEPPYONRDBPPXRCVCOJOZUFTWTPMIWCYZWXPEQCWJWMSPZQTRKYWNLVPZVQSSRWLAZQBTVQTHBSQQOSLCPCOIZWIPPHMCGGYKFYBMSMPLNDLMODRSDXQSMLHLBYJWSIODPYXIFEPYOFBNWKPQLCMLPGBDAYCCQSILPZBCBMSMAPBFPQE "
KEY_LENGTH = 6
ENCRYPTED_LENGTH = len(ENCRYPTED)


def incrementer(string, steps):
    return ''.join(ALPHABET[(ALPHABET.index(i) + steps) % len(ALPHABET)] for i in string)


same_letter_segments = [ENCRYPTED[i::6] for i in range(0, 6)]

print(same_letter_segments[0])
print(incrementer(same_letter_segments[0], 3))

c = Counter(same_letter_segments[0])
plot.bar(*zip(*c.most_common()), width=.5, color='g')
